import{h as r,k as e,a1 as oe,A as q,G as ne,F as le,o as _,a2 as W,B as H,a3 as ie,Z as ce,O as de,M as ue}from"./index-CYQb2vCA.js";import{b as me}from"./constants-BAIO8zZj.js";import{b as xe}from"./text-BDHlRMbB.js";import{F as he,g as fe,d as pe,a as be}from"./audio-Bbmp6NzQ.js";import{T as ge}from"./Textarea-NzWuWU9_.js";import{F as we}from"./ArrowPathIcon-6Y3-OxVZ.js";import"./api-CfjT-eUR.js";function ye({title:t,titleId:a,...s},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":a},s),t?r.createElement("title",{id:a},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const J=r.forwardRef(ye);function ve({title:t,titleId:a,...s},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":a},s),t?r.createElement("title",{id:a},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m18.375 12.739-7.693 7.693a4.5 4.5 0 0 1-6.364-6.364l10.94-10.94A3 3 0 1 1 19.5 7.372L8.552 18.32m.009-.01-.01.01m5.699-9.941-7.81 7.81a1.5 1.5 0 0 0 2.112 2.13"}))}const je=r.forwardRef(ve);function Ce({title:t,titleId:a,...s},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":a},s),t?r.createElement("title",{id:a},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z"}))}const Ne=r.forwardRef(Ce);function ke({title:t,titleId:a,...s},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":a},s),t?r.createElement("title",{id:a},t):null,r.createElement("path",{d:"M8.25 4.5a3.75 3.75 0 1 1 7.5 0v8.25a3.75 3.75 0 1 1-7.5 0V4.5Z"}),r.createElement("path",{d:"M6 10.5a.75.75 0 0 1 .75.75v1.5a5.25 5.25 0 1 0 10.5 0v-1.5a.75.75 0 0 1 1.5 0v1.5a6.751 6.751 0 0 1-6 6.709v2.291h3a.75.75 0 0 1 0 1.5h-7.5a.75.75 0 0 1 0-1.5h3v-2.291a6.751 6.751 0 0 1-6-6.709v-1.5A.75.75 0 0 1 6 10.5Z"}))}const Se=r.forwardRef(ke);function Ae({title:t,titleId:a,...s},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":a},s),t?r.createElement("title",{id:a},t):null,r.createElement("path",{d:"M3.478 2.404a.75.75 0 0 0-.926.941l2.432 7.905H13.5a.75.75 0 0 1 0 1.5H4.984l-2.432 7.905a.75.75 0 0 0 .926.94 60.519 60.519 0 0 0 18.445-8.986.75.75 0 0 0 0-1.218A60.517 60.517 0 0 0 3.478 2.404Z"}))}const Re=r.forwardRef(Ae);function Ee({title:t,titleId:a,...s},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":a},s),t?r.createElement("title",{id:a},t):null,r.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm6-2.438c0-.724.588-1.312 1.313-1.312h4.874c.725 0 1.313.588 1.313 1.313v4.874c0 .725-.588 1.313-1.313 1.313H9.564a1.312 1.312 0 0 1-1.313-1.313V9.564Z",clipRule:"evenodd"}))}const Ie=r.forwardRef(Ee),$e=({message:t,onSpeak:a,onDownload:s,onShare:o,onViewArtifact:g})=>{const l=t.role==="user",h=t.role==="tool",[x,f]=r.useState(!1),S=()=>{navigator.clipboard.writeText(t.text),o&&o(t.text)},u=()=>{a&&(f(!x),a(t.text))},I=()=>{if(l||!g)return t.text;const y=/\[ARTIFACT\|(\d+)\|([^\]]+)\]/g,c=[];let v=0,p;for(;(p=y.exec(t.text))!==null;){const[A,M,$]=p,j=parseInt(M,10),N=p.index;N>v&&c.push(t.text.substring(v,N)),c.push(e.jsxs("button",{onClick:()=>g(j),className:"inline-flex items-center gap-1.5 px-3 py-1.5 mx-1 my-1 bg-surface border border-primary/30 rounded-lg text-primary text-xs font-semibold hover:bg-primary/5 transition-all shadow-sm group/btn align-middle",children:[e.jsx(le,{className:"w-3.5 h-3.5 group-hover/btn:scale-110 transition-transform"}),e.jsx("span",{children:$})]},`artifact-${j}`)),v=N+A.length}return v<t.text.length&&c.push(t.text.substring(v)),c.length===0?t.text:e.jsx(e.Fragment,{children:c})};return h?e.jsx("div",{className:"flex w-full justify-center mb-4",children:e.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-800 px-4 py-2 rounded-full text-xs text-muted border border-gray-200 dark:border-gray-700 animate-pulse",children:[e.jsx(Ne,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"font-mono",children:t.text}),t.toolCall&&e.jsxs("span",{className:"text-[10px] opacity-70 hidden sm:inline",children:["(",JSON.stringify(t.toolCall.args).substring(0,30),"...)"]})]})}):e.jsx("div",{className:`flex w-full ${l?"justify-end":"justify-start"} mb-6 group`,children:e.jsxs("div",{className:`flex max-w-[90%] md:max-w-[80%] gap-4 ${l?"flex-row-reverse":"flex-row"}`,children:[e.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-lg flex items-center justify-center border ${l?"bg-primary text-white border-primary":"bg-white text-primary border-gray-200 shadow-sm"}`,children:l?e.jsx(oe,{className:"w-4 h-4"}):e.jsx(q,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex flex-col max-w-full",children:[e.jsx("div",{className:`relative px-5 py-4 rounded-2xl shadow-sm text-[15px] leading-relaxed border ${l?"bg-primary text-white border-primary rounded-tr-sm":"bg-surface text-body border-gray-100 rounded-tl-sm"}`,children:e.jsx("div",{className:"prose prose-sm max-w-none prose-p:my-1 prose-headings:my-2 whitespace-pre-wrap",style:{color:l?"white":"inherit"},children:I()})}),!l&&e.jsxs("div",{className:"flex items-center gap-2 mt-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[e.jsx("button",{onClick:u,className:`p-1.5 rounded-md transition-colors ${x?"text-primary bg-primary/10":"text-muted hover:text-primary hover:bg-gray-100"}`,title:"Ouvir (TTS)",children:e.jsx(he,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>s&&s(t.text),className:"p-1.5 text-muted hover:text-primary hover:bg-gray-100 rounded-md transition-colors",title:"Baixar Texto (.txt)",children:e.jsx(ne,{className:"w-4 h-4"})}),e.jsx("button",{onClick:S,className:"p-1.5 text-muted hover:text-primary hover:bg-gray-100 rounded-md transition-colors",title:"Copiar/Compartilhar",children:e.jsx(J,{className:"w-4 h-4"})})]}),e.jsx("span",{className:`text-[10px] text-muted mt-1 font-medium ${l?"text-right":"text-left"}`,children:new Date(t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})})},Te=()=>e.jsxs("div",{className:"flex items-center space-x-1 p-3 bg-surface rounded-2xl rounded-tl-none border border-gray-100 shadow-sm w-fit",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce [animation-delay:-0.3s]"}),e.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce [animation-delay:-0.15s]"}),e.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce"})]}),Fe=({commands:t,onSelect:a,selectedIndex:s})=>t.length===0?null:e.jsxs("div",{className:"absolute bottom-full left-0 right-0 mb-2 bg-surface border border-border rounded-xl shadow-lg p-2 max-h-60 overflow-y-auto z-10 animate-slide-in-from-bottom duration-200",children:[e.jsx("p",{className:"text-xs font-semibold text-muted px-2 pb-1.5 border-b border-border",children:"COMANDOS RÁPIDOS"}),e.jsx("ul",{className:"mt-1",children:t.map((o,g)=>e.jsx("li",{children:e.jsx("button",{onClick:()=>a(o),className:`w-full text-left p-2 rounded-md flex items-center justify-between transition-colors ${g===s?"bg-primary/10":"hover:bg-background"}`,children:e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-sm text-title",children:o.key}),e.jsx("span",{className:"text-xs text-muted ml-2",children:o.desc})]})})},o.key))})]}),Me=({onSendText:t,onStartVoice:a,onStopVoice:s,isTextLoading:o,isVoiceActive:g,isListening:l,disabled:h,commands:x=[]})=>{const[f,S]=r.useState(""),u=r.useRef(null),[I,y]=r.useState(!1),[c,v]=r.useState([]),[p,A]=r.useState(0),M=r.useRef(null);r.useEffect(()=>{u.current&&(u.current.style.height="auto",u.current.style.height=`${Math.min(u.current.scrollHeight,160)}px`)},[f]);const $=i=>{const m=i.target.value;if(S(m),m.startsWith("/")&&m.length>0){const L=m.substring(1).toLowerCase(),T=x.filter(O=>O.key.substring(1).toLowerCase().startsWith(L));v(T),y(T.length>0),A(0)}else y(!1)},j=r.useCallback(i=>{var m;S(i.text),y(!1),(m=u.current)==null||m.focus()},[]),N=i=>{I&&c.length>0?i.key==="ArrowDown"?(i.preventDefault(),A(m=>(m+1)%c.length)):i.key==="ArrowUp"?(i.preventDefault(),A(m=>(m-1+c.length)%c.length)):i.key==="Enter"&&!i.shiftKey?(i.preventDefault(),j(c[p])):i.key==="Escape"&&(i.preventDefault(),y(!1)):i.key==="Enter"&&!i.shiftKey&&(i.preventDefault(),k())},k=i=>{i==null||i.preventDefault(),!(!f.trim()||o||h)&&(t(f),S(""),u.current&&(u.current.style.height="auto"))},C=()=>{l?s():a()};return e.jsxs("div",{className:"relative flex-1",children:[I&&e.jsx("div",{ref:M,children:e.jsx(Fe,{commands:c,onSelect:j,selectedIndex:p})}),e.jsxs("form",{onSubmit:k,className:"relative flex items-end gap-2 bg-surface border border-border rounded-2xl p-2 shadow-soft transition-shadow duration-200 focus-within:shadow-md focus-within:border-gray-300 dark:focus-within:border-primary/50",children:[e.jsx("textarea",{ref:u,value:f,onChange:$,onKeyDown:N,placeholder:l?"Ouvindo...":"Digite uma mensagem ou '/' para comandos...",className:"w-full bg-transparent text-body placeholder-muted text-base px-3 py-2.5 max-h-[160px] resize-none focus:outline-none",rows:1,disabled:o||h||l}),!l&&e.jsx("button",{type:"submit",disabled:!f.trim()||o||h,className:`p-2.5 rounded-xl mb-0.5 transition-all duration-200 flex-shrink-0 ${!f.trim()||o||h?"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed":"bg-primary text-white hover:bg-primary/90 shadow-sm"}`,children:e.jsx(Re,{className:"w-5 h-5"})}),e.jsx("button",{type:"button",onClick:C,disabled:h&&!l,className:`p-2.5 rounded-xl mb-0.5 transition-all duration-200 flex-shrink-0 ${l?"bg-red-500 text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-600 hover:bg-primary hover:text-white"}`,children:l?e.jsx(Ie,{className:"w-5 h-5"}):e.jsx(Se,{className:"w-5 h-5"})})]})]})},Oe=()=>{const{addToast:t}=_();return{download:r.useCallback(async(s,o,g="application/octet-stream")=>{if(window.electronAPI&&window.electronAPI.saveFile){t({type:"info",message:"Abrindo diálogo para salvar..."});const l=await window.electronAPI.saveFile(s,o);l.success?t({type:"success",message:`Arquivo salvo em: ${l.path}`}):l.error&&l.error!=="Save canceled"&&t({type:"error",message:`Falha ao salvar: ${l.error}`})}else try{t({type:"info",message:"Gerando arquivo para download..."});const l=new Blob([s],{type:g}),h=window.URL.createObjectURL(l),x=document.createElement("a");x.href=h,x.download=o,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(h),t({type:"success",message:`Download de '${o}' iniciado!`})}catch(l){console.error("Erro no download web:",l),t({type:"error",message:"Falha ao gerar arquivo."})}},[t])}},De=({isOpen:t,onClose:a,artifact:s})=>{const{addToast:o}=_(),g=()=>{s!=null&&s.content&&(navigator.clipboard.writeText(s.content),o({type:"success",message:"Conteúdo do artefato copiado!"}))};return e.jsxs("div",{className:`fixed top-0 right-0 h-full bg-surface border-l border-border z-50 transition-transform duration-300 ease-in-out flex flex-col
        ${t?"translate-x-0":"translate-x-full"}
        w-full md:w-2/5 lg:w-1/3 shadow-2xl`,children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border flex-shrink-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-title truncate",children:(s==null?void 0:s.title)||"Artefato"}),e.jsx("button",{onClick:a,className:"p-1.5 rounded-full hover:bg-background",children:e.jsx(W,{className:"w-5 h-5 text-muted"})})]}),e.jsx("div",{className:"flex-1 p-6 overflow-y-auto bg-background/50",children:e.jsx("pre",{className:"text-sm text-body whitespace-pre-wrap font-sans",children:s==null?void 0:s.content})}),e.jsx("div",{className:"p-4 bg-surface border-t border-border flex-shrink-0",children:e.jsxs(H,{onClick:g,variant:"primary",className:"w-full",children:[e.jsx(J,{className:"w-4 h-4 mr-2"}),"Copiar Conteúdo"]})})]})},Be=[{key:"/post",text:"Crie um post para Instagram sobre: ",desc:"Gera legenda + ideia de imagem"},{key:"/refinar",text:"Reescreva o texto acima tornando-o mais: ",desc:"Ajuste de tom"},{key:"/analisar",text:"Analise os pontos fortes e fracos de: ",desc:"Crítica estratégica"}],Pe="Sua função principal é atuar como um Arquiteto de Marketing Digital e Copywriter Sênior. Você utiliza ferramentas para gerar imagens, textos persuasivos e estratégias de campanha. Para agendamentos, instrua o usuário a utilizar o Calendário Visual (SmartScheduler) da plataforma.",V="vitrinex_chat_history",Ge=()=>{const[t,a]=r.useState([]),[s,o]=r.useState(!1),[g,l]=r.useState(null),[h,x]=r.useState(!1),[f,S]=r.useState(Pe),[u,I]=r.useState(null),y=r.useRef(null),[c,v]=r.useState(!0),[p,A]=r.useState(!1),M=localStorage.getItem("vitrinex_kb_name"),$=r.useRef(null),j=r.useRef(null),N=r.useRef(null),k=r.useRef(null),{addToast:C}=_(),{download:i}=Oe(),[m,L]=r.useState([]),[T,O]=r.useState(null);r.useEffect(()=>{const n=localStorage.getItem(V);if(n)try{const d=JSON.parse(n);Array.isArray(d)&&d.length>0&&a(d)}catch{localStorage.removeItem(V)}else a([{role:"model",text:"Olá! Sou seu Assistente de IA Empresarial. Como posso ajudar hoje?",timestamp:new Date().toISOString()}])},[]),r.useEffect(()=>{t.length>0&&localStorage.setItem(V,JSON.stringify(t))},[t]),r.useEffect(()=>{var n;(n=N.current)==null||n.scrollIntoView({behavior:"smooth"})},[t,s]);const Z=n=>{const d=/<artifact title="([^"]+)">([\s\S]*?)<\/artifact>/g,F=[];let w,R=n;for(;(w=d.exec(n))!==null;){const[b,E,G]=w,U={title:E,content:G.trim()};F.push(U);const z=`[ARTIFACT|${m.length+F.length-1}|${E}]`;R=R.replace(b,z)}return{cleanedText:R,newArtifacts:F}},Y=r.useCallback(async n=>{if(!n.trim())return;k.current=new AbortController;const d=k.current.signal,w={role:"user",text:n+(u?` [Arquivo Anexado: ${u.name}]`:""),timestamp:new Date().toISOString()},R=c?[...t,w]:[w];a(R),o(!0),l(null),a(b=>[...b,{role:"model",text:"",timestamp:new Date().toISOString()}]);try{let b=n,E="";const U=await xe(c?t:[],b,D=>{E=D;const{cleanedText:B}=Z(E);a(se=>{const P=[...se];return P[P.length-1]={...P[P.length-1],text:B},P})},{model:me,systemInstruction:f,useKnowledgeBase:p},d),{cleanedText:z,newArtifacts:K}=Z(U);K.length>0&&L(D=>[...D,...K]),a(D=>{const B=[...D];return B[B.length-1].text=z,B})}catch{d.aborted||(l("Erro de processamento. Por favor, tente novamente."),a(E=>E.slice(0,-1)))}finally{o(!1),k.current=null,I(null)}},[t,u,c,p,f,m.length]);r.useCallback(()=>{var n;(n=k.current)==null||n.abort(),o(!1)},[]);const Q=()=>{var n;window.confirm("Limpar histórico da sessão?")&&((n=k.current)==null||n.abort(),localStorage.removeItem(V),a([{role:"model",text:"Olá! Sou seu Assistente de IA Empresarial. Como posso ajudar hoje?",timestamp:new Date().toISOString()}]),L([]),O(null))},X=()=>{var n;return(n=y.current)==null?void 0:n.click()},ee=async n=>{},te=r.useCallback(async n=>{C({type:"info",message:"Gerando áudio..."});try{const d=await fe(n);if(!d)throw new Error("Audio generation failed.");const F=pe(d),w=$.current||new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});$.current=w;const R=await be(F,w,24e3,1);j.current&&j.current.stop();const b=w.createBufferSource();b.buffer=R,b.connect(w.destination),b.start(0),j.current=b}catch(d){console.error(d),C({type:"error",message:"Falha ao gerar áudio."})}},[C]),re=r.useCallback(n=>{i(n,`vitrinex-chat-${Date.now()}.txt`,"text/plain")},[i]),ae=r.useCallback(n=>{navigator.clipboard.writeText(n).then(()=>{C({type:"success",message:"Copiado para a área de transferência!"})},d=>{console.error("Could not copy text: ",d),C({type:"error",message:"Falha ao copiar texto."})})},[C]);return e.jsxs("div",{className:"flex h-full bg-background relative overflow-hidden rounded-tl-xl border-l border-t border-border",children:[h&&e.jsx("div",{className:"absolute inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:e.jsxs("div",{className:"bg-surface rounded-xl shadow-2xl w-full max-w-2xl border border-border flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-border",children:[e.jsxs("h3",{className:"text-lg font-semibold text-title flex items-center gap-2",children:[e.jsx(q,{className:"w-5 h-5 text-primary"})," Cérebro da IA (Persona)"]}),e.jsx("button",{onClick:()=>x(!1),className:"p-1.5 rounded-full hover:bg-background",children:e.jsx(W,{className:"w-5 h-5 text-muted"})})]}),e.jsx("div",{className:"p-6 flex-1 overflow-y-auto",children:e.jsx(ge,{id:"system-instruction",label:"Instrução do Sistema",value:f,onChange:n=>S(n.target.value),rows:15,className:"text-sm font-mono"})}),e.jsx("div",{className:"p-4 bg-background border-t border-border flex justify-end",children:e.jsx(H,{variant:"primary",onClick:()=>{x(!1),C({type:"success",message:"Cérebro da IA atualizado."})},children:"Salvar e Fechar"})})]})}),e.jsxs("div",{className:"flex flex-col flex-1 h-full min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border bg-surface",children:[e.jsxs("h3",{className:"text-lg font-semibold text-title flex items-center gap-2",children:[e.jsx(ie,{className:"w-5 h-5"})," Chat IA"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(H,{onClick:()=>x(!0),variant:"ghost",size:"sm",children:[e.jsx(ce,{className:"w-4 h-4 mr-1.5"})," Cérebro da IA"]}),e.jsxs(H,{onClick:Q,variant:"ghost",size:"sm",children:[e.jsx(de,{className:"w-4 h-4 mr-1.5"})," Limpar"]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 space-y-6",children:[t.map((n,d)=>e.jsx($e,{message:n,onSpeak:te,onDownload:re,onShare:ae,onViewArtifact:O},`${n.timestamp}-${d}`)),s&&e.jsx(Te,{}),e.jsx("div",{ref:N})]}),e.jsx("div",{className:"p-4 bg-surface border-t border-border",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3 px-20",children:[e.jsxs("button",{onClick:()=>v(!c),className:`flex items-center gap-2 px-3 py-1.5 text-xs rounded-full border transition-colors ${c?"bg-primary/10 border-primary/20 text-primary":"bg-gray-100 dark:bg-gray-800 border-border text-muted hover:border-gray-300 dark:hover:border-gray-600"}`,children:[e.jsx(we,{className:"w-4 h-4"})," Manter Contexto"]}),e.jsxs("button",{onClick:()=>A(!p),disabled:!M,className:`flex items-center gap-2 px-3 py-1.5 text-xs rounded-full border transition-colors ${p?"bg-primary/10 border-primary/20 text-primary":"bg-gray-100 dark:bg-gray-800 border-border text-muted hover:border-gray-300 dark:hover:border-gray-600"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx(ue,{className:"w-4 h-4"})," Consultar Base (RAG)"]})]}),e.jsxs("div",{className:"flex items-center gap-2 relative",children:[e.jsx("button",{onClick:X,className:"p-2.5 rounded-xl text-muted hover:bg-background",title:"Anexar arquivo",children:e.jsx(je,{className:"w-5 h-5"})}),e.jsx("input",{type:"file",ref:y,onChange:ee,className:"hidden"}),e.jsx(Me,{onSendText:Y,onStartVoice:()=>{},onStopVoice:()=>{},isTextLoading:s,isVoiceActive:!1,isListening:!1,commands:Be})]})]})})]}),e.jsx(De,{isOpen:T!==null,onClose:()=>O(null),artifact:T!==null?m[T]:null})]})};export{Ge as default};
