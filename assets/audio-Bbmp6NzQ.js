import{h as f,K as p,a4 as g}from"./index-CYQb2vCA.js";import{j as d}from"./constants-BAIO8zZj.js";import{p as u}from"./api-CfjT-eUR.js";function h({title:o,titleId:t,...a},e){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":t},a),o?f.createElement("title",{id:t},o):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"}))}const C=f.forwardRef(h),A=async(o,t="Kore")=>{var a,e,n,s,c,r;try{return(await u("generate-speech","POST",{text:o,model:d,speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}}})).base64Audio}catch(l){return console.warn("Backend proxy failed for generateSpeech, falling back to client-side SDK.",l),(r=(c=(s=(n=(e=(a=(await(await p()).models.generateContent({model:d,contents:{parts:[{text:o}]},config:{responseModalities:[g.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}}}})).candidates)==null?void 0:a[0])==null?void 0:e.content)==null?void 0:n.parts)==null?void 0:s[0])==null?void 0:c.inlineData)==null?void 0:r.data}};function k(o){const t=atob(o),a=t.length,e=new Uint8Array(a);for(let n=0;n<a;n++)e[n]=t.charCodeAt(n);return e}async function D(o,t,a,e){const n=new Int16Array(o.buffer),s=n.length/e,c=t.createBuffer(e,s,a);for(let r=0;r<e;r++){const l=c.getChannelData(r);for(let i=0;i<s;i++)l[i]=n[i*e+r]/32768}return c}export{C as F,D as a,k as d,A as g};
