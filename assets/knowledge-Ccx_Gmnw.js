import{g as s,a as l,p as n}from"./api-CfjT-eUR.js";import{g as i}from"./text-BDHlRMbB.js";const w=async e=>{try{return await n("knowledge-base/store","POST",{displayName:e})}catch(a){return console.warn("Fallback: CreateStore",a),{storeName:"mock-store",displayName:e||"Mock"}}},k=async(e,a)=>{try{const t=s(),c=await l(),o=new FormData;o.append("file",e);const r=await fetch(`http://localhost:3000/organizations/${t}/knowledge-base/upload-file`,{method:"POST",headers:{Authorization:`Bearer ${c}`},body:o});if(!r.ok)throw new Error("Backend upload failed");return r.json()}catch(t){return console.warn("Fallback: uploadFile",t),{fileId:"mock-file-id"}}},f=async e=>{try{return await n("knowledge-base/query","POST",{prompt:e})}catch(a){return console.warn("Fallback: queryFileSearchStore",a),{resposta:await i(e),arquivos_usados:[],trechos_referenciados:[],confianca:0}}};export{w as c,f as q,k as u};
